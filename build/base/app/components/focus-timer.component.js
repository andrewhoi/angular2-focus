var __decorate=this&&this.__decorate||function(t,e,i,n){var s,r=arguments.length,o=3>r?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(3>r?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},__metadata=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},core_1=require("angular2/core"),timer_service_1=require("../services/timer.service"),FocusTimerCmp=function(){function t(t){var e=this;this._timerService=t,this.timeCompleted=new core_1.EventEmitter,this.runningTime=new Date,this.runningTime.setMinutes(0),this.runningTime.setSeconds(0),this.clockRunning=!1,this._timerService.runningTime$.subscribe(function(t){return e._calcTime(t)}),this._enableButtons()}return t.prototype.startFocus=function(){this.clockRunning?(this._timerService.stopTimer(),this._enableButtons()):(this._timerService.startTimer(25),this._disableButtons(),this.focusRunning=!0)},t.prototype.startShortBreak=function(){this.clockRunning?(this._timerService.stopTimer(),this._enableButtons()):(this._timerService.startTimer(5),this._disableButtons(),this.shortRunning=!0)},t.prototype.startLongBreak=function(){this.clockRunning?(this._timerService.stopTimer(),this._enableButtons()):(this._timerService.startTimer(15),this._disableButtons(),this.longRunning=!0)},t.prototype._disableButtons=function(){this.focusRunning=!1,this.shortRunning=!1,this.longRunning=!1},t.prototype._enableButtons=function(){this.focusRunning=!0,this.shortRunning=!0,this.longRunning=!0},t.prototype._calcTime=function(t){this.runningTime=t,this.clockRunning=!0,document.title=this.runningTime.getMinutes()+":"+this.runningTime.getSeconds(),0===this.runningTime.getSeconds()&&0===this.runningTime.getMinutes()&&(this.timeCompleted.next(!0),this._enableButtons(),this.clockRunning=!1,document.title="Focus Time Management")},t=__decorate([core_1.Component({selector:"focus-timer",templateUrl:"app/components/focus-timer.component.html",events:["timeCompleted"]}),__metadata("design:paramtypes",[timer_service_1.TimerService])],t)}();exports.FocusTimerCmp=FocusTimerCmp;
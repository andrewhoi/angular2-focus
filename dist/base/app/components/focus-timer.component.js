"use strict";var __decorate=this&&this.__decorate||function(e,t,i,r){var n,s=arguments.length,c=3>s?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(c=(3>s?n(c):s>3?n(t,i,c):n(t,i))||c);return s>3&&c&&Object.defineProperty(t,i,c),c},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},core_1=require("angular2/core"),timer_service_1=require("../services/timer.service"),interfaces_1=require("../interfaces/interfaces"),FocusTimerCmp=function(){function e(e){var t=this;this._timerService=e,this.timeCompleted=new core_1.EventEmitter,this.runningTime=new Date,this.runningTime.setMinutes(0),this.runningTime.setSeconds(0),this.clockRunning=!1,this._timerService.runningTime$.subscribe(function(e){return t._calcTime(e)}),this.phaseType=this._timerService.runningPhaseType}return e.prototype.startFocus=function(){this.clockRunning?this._timerService.stopTimer():this._timerService.startTimer(interfaces_1.PhaseType.FOCUS),this.phaseType=this._timerService.runningPhaseType},e.prototype.startShortBreak=function(){this.clockRunning?this._timerService.stopTimer():this._timerService.startTimer(interfaces_1.PhaseType.SHORT_BREAK),this.phaseType=this._timerService.runningPhaseType},e.prototype.startLongBreak=function(){this.clockRunning?this._timerService.stopTimer():this._timerService.startTimer(interfaces_1.PhaseType.LONG_BREAK),this.phaseType=this._timerService.runningPhaseType},e.prototype._calcTime=function(e){this.runningTime=e,this.clockRunning=!0,document.title=this.runningTime.getMinutes()+":"+this.runningTime.getSeconds(),0===this.runningTime.getSeconds()&&0===this.runningTime.getMinutes()&&(this.timeCompleted.next(!0),this.phaseType=null,this.clockRunning=!1,document.title="Focus Time Management")},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"timeCompleted",void 0),e=__decorate([core_1.Component({selector:"focus-timer",templateUrl:"app/components/focus-timer.component.html"}),__metadata("design:paramtypes",[timer_service_1.TimerService])],e)}();exports.FocusTimerCmp=FocusTimerCmp;